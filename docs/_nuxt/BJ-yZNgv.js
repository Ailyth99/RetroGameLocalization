import{F as v,n as w,r as f,_ as k,o as y,G as x,y as n,H as C,A as o,I as g,J as u,K as L,z as i,L as U,B as r}from"./DPETHtuA.js";const A=v("/assets/github.png"),R=v("/assets/bilibili.png"),M=()=>{const l=w().app.baseURL,c=f({}),d=f(new Set);return{loadCdnMap:async()=>{try{const t=await fetch(`${l}image-cdn.json`);c.value=await t.json()}catch(t){console.warn("CDN 映射加载失败，将使用本地图片:",t)}},getImageUrl:t=>{const a=t.split("/").pop();return c.value[a]?c.value[a]:`${l}${t.replace(/^\//,"")}`},preloadImage:t=>new Promise(a=>{const s=t.split("/").pop(),e=c.value[s],m=`${l}${t.replace(/^\//,"")}`;if(!e){a(m);return}const _=new Image;_.onload=()=>{d.value.add(s),a(e)},_.onerror=()=>{console.warn(`CDN 图片加载失败，回退到本地: ${s}`),c.value[s]=m,a(m)},_.src=e}),cdnMap:c}},$={class:"portfolio"},E={class:"masonry-container"},S={class:"masonry-grid"},N={class:"work-wrapper"},B=["src","alt"],O={class:"work-info-bottom"},j={class:"work-title-bottom"},z={class:"work-tags-bottom"},T={class:"work-overlay"},D={class:"work-card"},G={class:"work-title"},H={class:"work-meta"},V={class:"work-tags"},F={__name:"index",setup(I){const c=w().app.baseURL,{loadCdnMap:d,getImageUrl:h}=M(),p=f([]);y(async()=>{try{await d();const a=await(await fetch(`${c}works.json`)).json();p.value=a.map(s=>({...s,image:h(s.image)})),await x(),setTimeout(()=>{b()},100)}catch(t){console.error("加载作品数据失败:",t)}});function b(){const t=document.querySelectorAll(".masonry-item");if(t.length===0){console.log("没有找到作品卡片");return}const a=new IntersectionObserver(s=>{s.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});t.forEach(s=>a.observe(s))}return(t,a)=>(i(),n("div",$,[a[0]||(a[0]=C('<header class="header" data-v-22bf6cc8><h1 class="logo" data-v-22bf6cc8>VAMPI屋 aikika</h1><div class="social" data-v-22bf6cc8><a href="https://github.com/Ailyth99" target="_blank" class="social-link" data-v-22bf6cc8><img src="'+A+'" alt="GitHub" data-v-22bf6cc8></a><a href="https://space.bilibili.com/3405001" target="_blank" class="social-link" data-v-22bf6cc8><img src="'+R+'" alt="Bilibili" data-v-22bf6cc8></a></div></header><section class="hero-title" data-v-22bf6cc8><h2 class="main-title" data-v-22bf6cc8>RETRO_GAME<br data-v-22bf6cc8>CHINESELOCALIZATION<span class="cursor" data-v-22bf6cc8>_</span></h2></section><div class="section-header" data-v-22bf6cc8><h3 class="section-title" data-v-22bf6cc8>中文化作品集 / WORKS</h3></div>',3)),o("div",E,[o("div",S,[(i(!0),n(g,null,u(L(p),s=>(i(),n("div",{key:s.id,class:U(["masonry-item",`size-${s.size}`])},[o("div",N,[o("img",{src:s.image,alt:s.title,class:"work-image"},null,8,B),o("div",O,[o("h3",j,r(s.title),1),o("div",z,[(i(!0),n(g,null,u(s.tags,e=>(i(),n("span",{key:e,class:"tag-bottom"},r(e),1))),128))])]),o("div",T,[o("div",D,[o("h3",G,r(s.title),1),o("p",H,r(s.subtitle),1),o("div",V,[(i(!0),n(g,null,u(s.tags,e=>(i(),n("span",{key:e,class:"tag"},r(e),1))),128))])])])])],2))),128))])])]))}},q=k(F,[["__scopeId","data-v-22bf6cc8"]]);export{q as default};
